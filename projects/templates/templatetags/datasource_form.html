{% load unicorn %} 
{% load pwa %}
{% load static %}
{% load analytical %}
{% load humanize %}
{% load socialaccount %}
{% load customfilters %}
{% load guardian_tags %}

<div class="offcanvas-body test-edit-inner p-3 pt-0" style="overflow-x: hidden;">

    {% if 'change_datastream' in datastream_perms %}
    <div class="row row-cols-1 g-3 pb-3" id="fileInfo">
        {% input_textarea model='datasource.datastream.name' modelvalue=datasource.datastream.name label='Name' %}
        {% input_textarea model='datasource.datastream.description' modelvalue=datasource.datastream.description label='Description' %}
        {% input_text model='datasource.datastream.properties.source' modelvalue=datasource.datastream.properties.source label='Source' %}
        {% input_text model='datasource.datastream.properties.licence' modelvalue=datasource.datastream.properties.licence label='Licence' %}
        {% input_switch model='datasource.datastream.properties.refresh' modelvalue=datasource.datastream.properties.refresh label='Keep datasource refreshed' partial='infoLargeTitle' %}
        <div class="col">
            <div class="comments mb-2 p-3 position-relative rounded-3 bg-white" >
                <h3 class="small text-muted">Info</h3>
                <p class="text-muted small lh-sm">{{ datasource.datastream.url }}</p>
                <p class="text-muted small lh-sm">{{ datasource.datastream.last_cached }}</p>
            </div>
        </div>
    </div>
    {% else %}
    <div class="comments mb-2 p-3 position-relative rounded-3 bg-white" >
        <h3 class="small text-muted">Info</h3>
        <p class="h6" style="">{{ datasource.datastream.name }}</p>
        <p class="text-muted small lh-sm">{{ datasource.datastream.description }}</p>
    </div>
    {% endif %}
    
</div>