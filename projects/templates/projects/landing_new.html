{% load unicorn %} 
{% load humanize %}
{% load static %}
{% load socialaccount %}

<!doctype html>
<html lang="en" class="h-100">
    <head>
        <title>YouViz - Simple. Vizualization. For You.</title>
        <meta name="description" content="">
        <meta name="robots" content="index, follow">
        <meta property="og:type" content="article" />
        <meta property="og:title" content="TITLE OF YOUR POST OR PAGE" />
        <meta property="og:description" content="DESCRIPTION OF PAGE CONTENT" />
        <meta property="og:image" content="LINK TO THE IMAGE FILE" />
        <meta property="og:url" content="PERMALINK" />
        <meta property="og:site_name" content="SITE NAME" />
        <meta name="twitter:title" content="TITLE OF POST OR PAGE">
        <meta name="twitter:description" content="DESCRIPTION OF PAGE CONTENT">
        <meta name="twitter:image" content="LINK TO IMAGE">
        <meta name="twitter:site" content="@USERNAME">
        <meta name="twitter:creator" content="@USERNAME">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <meta charset="utf-8">
        <!--<meta name="referrer" content="no-referrer-when-downgrade" />-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- custom css & js -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="{% static 'projects/js/hammer.min.js' %}"></script> 
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" 
                integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <!--<script src="https://accounts.google.com/gsi/client" async defer></script>-->
        <!-- Bootstrap core CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
                  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <style>
          .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
          }
          @media (min-width: 768px) {
            .bd-placeholder-img-lg {
              font-size: 3.5rem;
            }
          }
        </style>
        
        {% unicorn_scripts %}
        <!-- Custom styles for this template -->
        <link rel="stylesheet" href="{% static 'projects/css/cover.css' %}">
    </head>
    <body id="body" class="d-flex h-100 text-center text-white bg-dark">
        {% csrf_token %}
        
        
        <!-- LANDING START -->
        <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column" id="landingTop">
            <header class="mb-auto">
                <div>
                    <h3 class="float-md-start mb-0">YouViz</h3>
                    <nav class="nav nav-masthead justify-content-center float-md-end" id="landingTabs">
                        <a class="nav-link active" aria-current="page" id="get-started-tab"
                           href="#" data-bs-toggle="tab" data-bs-target="#get-started-tab-pane" type="button" role="tab">Get Started</a>
                        <a class="nav-link" id="signin-tab" 
                           href="#" data-bs-toggle="tab" data-bs-target="#signin-tab-pane" type="button" role="tab">Sign in</a>
                        <a class="nav-link" id="features-tab"
                           href="#" data-bs-toggle="tab" data-bs-target="#features-tab-pane" type="button" role="tab">Features</a>
                    </nav>
                </div>
            </header>

            <div id="main">
                
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="get-started-tab-pane" role="tabpanel" aria-labelledby="get-started-tab" tabindex="0">
                
                        <main class="px-3" id="get-started-main">
                            <h1>Simple. Vizualization. <br/>For You.</h1>
                            
                            <p class="lead">YouViz is a Free, Simple App<br>to help you vizualize your data quickly.</p>
                            
                            <!--
                            <div id="g_id_onload"
                                data-client_id="207347957236-vhqinq5j8h8al0a18hsb4vm11v75lu92.apps.googleusercontent.com"
                                data-login_uri="http://localhost:8000/signup"
                                data-auto_prompt="false">
                            </div>
                            <div class="g_id_signin"
                                data-type="standard"
                                data-size="large"
                                data-theme="outline"
                                data-text="sign_in_with"
                                data-shape="rectangular"
                                data-logo_alignment="left">
                            </div>-->            
                            
                            <!-- Allauth button starts here -->
                            <form action="{% provider_login_url 'google' %}" method="post">
                                {% csrf_token %}
                                <button class="btn btn-light" type="submit">
                                    <i class="bi bi-google"></i>
                                    <span>Get started with Google</span>
                                </button>
                            </form>
                            <!-- Allauth button ends here -->
                        </main>
                    </div>
                    
                    <div class="tab-pane fade" id="signin-tab-pane" role="tabpanel" aria-labelledby="signin-tab" tabindex="0">
                    
                        <main class="px-3" id="signin-main">
                            <h1 class="pb-2">Welcome back!</h1>
                            
                            <!-- Allauth button starts here -->
                            <form action="{% provider_login_url 'google' %}" method="post">
                                {% csrf_token %}
                                <button class="btn btn-light" type="submit">
                                    <i class="bi bi-google"></i>
                                    <span>Sign in with Google</span>
                                </button>
                            </form>
                            <!-- Allauth button ends here -->
                            
                            <div class="py-3">--- OR ---</div>

                            <form action="/accounts/login/" method="post" id="signinForm">
                                {% csrf_token %}
                            
                                <div class="row mb-3 row-cols-2 justify-content-center gx-2">
                                    <div class="form-floating">
                                        <input type="input" unicorn:model.defer="username" class="form-control bg-dark text-white" 
                                               id="floatingInputEmail" placeholder="name@example.com">
                                        <label for="floatingInputEmail">Username</label>
                                    </div>
                                </div>
                                <div class="row mb-3 row-cols-2 justify-content-center gx-2">
                                    <div class="form-floating">
                                        <input type="password" unicorn:model.defer="password" class="form-control bg-dark text-white" 
                                               id="floatingInputPassword" placeholder="Password">
                                        <label for="floatingInputPassword">Password</label>
                                    </div>
                                </div>
                                <input type="submit" value="Sign in!" class="btn btn-light">
                                <input type="reset" value="Clear" class="btn btn-light">
                            </form>
                        </main>
                    </div>
                    
                    <div class="tab-pane fade" id="features-tab-pane" role="tabpanel" aria-labelledby="features-tab" tabindex="0">
                
                    
                        <main class="px-3" id="features-main">
                            <h1 class="pb-2">Features</h1>
                            <div id="carouselExampleCaptions" class="carousel carousel-dark slide" data-bs-ride="false">
                                <div class="carousel-indicators">
                                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" 
                                            class="active" aria-current="true" aria-label="Slide 1"></button>
                                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" 
                                            aria-label="Slide 2"></button>
                                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" 
                                            aria-label="Slide 3"></button>
                                </div>
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <iframe width="560" height="315" src="https://www.youtube.com/embed/HXjnDIgGDuI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Handle any data</h5>
                                            <p>Get remote and upload local data to vizualize</p>
                                        </div>
                                    </div>
                                    <div class="carousel-item">
                                        <iframe width="560" height="315" src="https://www.youtube.com/embed/HXjnDIgGDuI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                        <div class="carousel-caption d-none d-md-block">
                                            <h5>Simple vizualization</h5>
                                            <p>1-click to turn your data into story-telling vizuals</p>
                                        </div>
                                    </div>
                                </div>
                                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Previous</span>
                                </button>
                                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>
                        </main>
                    </div>
                                
                </div>
            </div>
            <footer class="mt-auto text-white-50">
                <p>Visit us on <a href="https://github.com/mdawso04/youviz" target="_blank" class="text-white">Github</a></p>
            </footer>
        </div>
        <!-- LANDING END -->   
        
        <script>
        const triggerTabList = document.querySelectorAll('#landingTabs a')
        triggerTabList.forEach(triggerEl => {
            const tabTrigger = new bootstrap.Tab(triggerEl)
            triggerEl.addEventListener('click', event => {
                event.preventDefault()
                tabTrigger.show()
            })
        });    
            
        window.addEventListener("load", (event) => {
            const hammertime = Hammer(document.getElementsByTagName('body')[0]);
            hammertime.on('swipeleft swiperight', (event) => {
                const t = document.querySelector('#landingTabs a.active');
                var triggerEl;
                switch(event.type) {
                    case 'swipeleft': 
                        switch(t.id) {
                            case 'get-started-tab':
                                triggerEl = document.querySelector('#signin-tab');
                                break;
                            case 'signin-tab':
                                triggerEl = document.querySelector('#features-tab');
                                break;
                            case 'features-tab':
                                triggerEl = document.querySelector('#get-started-tab');
                                break;
                        }
                        break;
                    case 'swiperight':
                        switch(t.id) {
                            case 'get-started-tab':
                                triggerEl = document.querySelector('#features-tab');
                                break;
                            case 'signin-tab':
                                triggerEl = document.querySelector('#get-started-tab');
                                break;
                            case 'features-tab':
                                triggerEl = document.querySelector('#signin-tab');
                                break;
                        }
                        break;
                }
                bootstrap.Tab.getOrCreateInstance(triggerEl).show()
            });
        });
        </script>
    </body>
</html>
